$(function(){"use strict";function t(t){function i(){l=$.extend({},e,t);var i="",o={};n(),d=$("<div>",{"class":"modal",id:l.modalId,tabindex:"-1",role:"dialog"}),l.fade&&d.addClass("fade"),l.backdrop||d.attr("data-backdrop","static"),i='<div class="modal-dialog">',i+='<div class="modal-content">',l.close&&(i+='<div class="modal-header">',i+='<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>',i+="</div>"),i+='<div class="modal-body">',i+='<p class="st-msg" id="stMainMessage">'+l.firstMsg.replace("{{time}}",l.modalTime)+"</p>",i+="</div>",i+='<div class="modal-footer">',i+='<button type="button" class="s2-btn btn btn-primary st-primary-btn">'+l.firstPrimaryBtn+"</button>",i+="</div>",i+="</div>",i+="</div>",o=$(i),o.appendTo(d),d.appendTo($("body")),a()}function n(){var t=parseInt(l.sessionTime,10)*r;s(t,function(){d.modal("show")})}function a(){var t=parseInt(l.modalTime,10)*r;d.on("shown.bs.modal",function(){$(".st-primary-btn",d).focus(),s(t,function(){$(".st-msg",d).html(l.secondMsg),$(".st-primary-btn",d).html(l.secondPrimaryBtn),o()});var i=$(".st-primary-btn",d);i.unbind("click"),i.click(function(t){t.preventDefault(),clearInterval(c),n(),d.modal("hide"),$.isFunction(l.firstPrimaryAction)&&l.firstPrimaryAction.call(d)})})}function o(){var t=$(".st-primary-btn",d);t.unbind("click"),t.click(function(t){t.preventDefault(),clearInterval(c),$.isFunction(l.secondPrimaryAction)&&l.secondPrimaryAction.call(d)}),$(".st-primary-btn",d).focus()}function s(t,i){var n=(new Date).getTime();c=setInterval(function(){var a=t-((new Date).getTime()-n);0>=a&&(clearInterval(c),i())},100)}var e={sessionTime:19,modalTime:1,modalId:"sessionTrackerModal",firstMsg:"You have {{time}} minute left to finish working on this page. Click OK to extend your time and avoid being logged out.",firstPrimaryBtn:"OK",firstPrimaryAction:$.noop,secondMsg:"We are sorry, the time to work on this page has expired. Please click Ok to login again.",secondPrimaryBtn:"OK",secondPrimaryAction:$.noop,fade:!0,close:!1,backdrop:!1},r=6e4,c={},d={},l={};i()}function i(){$.ajax({type:"POST",url:"/satweb/keepSessionAlive.action",success:function(){}})}function n(t){t.modal("hide"),window.location.href="/satweb/logOutAction.do"}0>=$(".no-session-tracker").length&&t({firstPrimaryAction:function(){i($(this))},secondPrimaryAction:function(){n($(this))}})});